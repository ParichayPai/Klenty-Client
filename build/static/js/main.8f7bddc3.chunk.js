(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(0),c=n.n(s),r=n(11),i=n.n(r),o=(n(87),n(88),n(9)),l=n(16),d=n.n(l),u=n(25),j=n(12),h=n(148),m=n(20),g=n.n(m),b=n(74),p=n(150),f=n(149),x=n(152),O=n(147),v=n(145),w=n(146),C=n(144);function y(e){var t=function(){e.toggle(),e.setUsername(""),e.setPassword("")},n=function(){var n=Object(u.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.login(),t();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"LoginDialog",children:Object(a.jsxs)(x.a,{open:e.open,onClose:t,children:[Object(a.jsx)(C.a,{id:"form-dialog-title",children:"Login"}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(w.a,{children:"Enter Username and Password to Login"}),Object(a.jsx)(f.a,{autoFocus:!0,margin:"dense",id:"username",label:"Username",type:"text",fullWidth:!0,value:e.username,onChange:function(t){return e.setUsername(t.target.value)}}),Object(a.jsx)(f.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:e.password,onChange:function(t){return e.setPassword(t.target.value)}})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(p.a,{onClick:t,color:"primary",children:"Cancel"}),Object(a.jsx)(p.a,{onClick:n,color:"secondary",children:"Save"}),Object(a.jsx)(p.a,{onClick:function(){t(),e.signUp()},variant:"contained",children:"Sign Up"})]})]})})}function N(e){var t=function(){e.toggle(),e.setUsername(""),e.setPassword("")};return Object(a.jsx)("div",{children:Object(a.jsxs)(x.a,{open:e.open,onClose:t,children:[Object(a.jsx)(C.a,{id:"form-dialog-title",children:"Sign Up"}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(w.a,{children:"To Sign up for the site please enter your details!"}),Object(a.jsx)(f.a,{autoFocus:!0,margin:"dense",id:"username",label:"Username",type:"text",fullWidth:!0,value:e.username,onChange:function(t){return e.setUsername(t.target.value)}}),Object(a.jsx)(f.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:e.password,onChange:function(t){return e.setPassword(t.target.value)}})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(p.a,{onClick:t,color:"primary",children:"Cancel"}),Object(a.jsx)(p.a,{onClick:function(){e.register(),t()},color:"primary",children:"Subscribe"})]})]})})}var k="https://klenty-backend.herokuapp.com/api/v1/",S=Object(h.a)((function(e){return{header:{display:"flex",height:60},title:{marginLeft:450,marginTop:5,fontFamily:"Josefin Sans",cursor:"pointer"},login:{fontSize:20,marginLeft:"auto",marginTop:10,marginRight:30,cursor:"pointer",border:"1px solid grey",borderRadius:5,height:40,display:"flex",justifyContent:"center",alignItems:"center"},logout:{fontSize:20,marginLeft:280,marginRight:10,marginTop:20,cursor:"pointer"}}}));function U(e){var t=c.a.useState(!1),n=Object(j.a)(t,2),s=n[0],r=n[1],i=c.a.useState(!1),l=Object(j.a)(i,2),h=l[0],m=l[1],f=c.a.useState(""),x=Object(j.a)(f,2),O=x[0],v=x[1],w=c.a.useState(""),C=Object(j.a)(w,2),U=C[0],L=C[1],E=c.a.useState(""),D=Object(j.a)(E,2),T=D[0],B=D[1],P=c.a.useState(""),F=Object(j.a)(P,2),I=F[0],R=F[1],z=S(),A=Object(o.g)(),W=function(){r(!s)},G=function(){m(!h)},J=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()({method:"POST",data:{username:O,password:U},withCredentials:!0,url:k+"register"}).then((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()({method:"POST",data:{username:T,password:I},withCredentials:!0,url:k+"login"}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g()({method:"GET",withCredentials:!0,url:k+"user"}).then((function(t){if("No User Exists"===t.data||""===t.data)return e.handleUser("Login"),void console.log(t.data);e.handleUser(t.data),console.log("hi",t.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:z.header,children:[Object(a.jsx)(p.a,{onClick:K,children:"getUser"}),Object(a.jsx)(b.a,{variant:"h3",className:z.title,onClick:function(){A.push("/")},children:"Klenty Assignment"}),Object(a.jsx)("span",{id:"logout",className:z.logout,onClick:function(){e.logout(),A.push("/")},children:"Logout"}),Object(a.jsx)("span",{id:"profile",className:z.login,onClick:W,children:e.userdata}),s?Object(a.jsx)(y,{open:s,toggle:W,username:T,setUsername:function(e){B(e)},password:I,setPassword:function(e){R(e)},login:M,handleUserData:e.handleUser,signUp:G,getUser:e.getUser}):null,h?Object(a.jsx)(N,{open:h,username:O,setUsername:function(e){v(e)},password:U,setPassword:function(e){L(e)},toggle:G,register:J}):null]})}function L(e){var t=c.a.useState(""),n=Object(j.a)(t,2),s=n[0],r=n[1],i=c.a.useState(""),o=Object(j.a)(i,2),l=o[0],d=o[1],u=e.username,h=function(){e.openDialogue()};return Object(a.jsx)("div",{children:Object(a.jsxs)(x.a,{open:e.open,onClose:h,children:[Object(a.jsx)(C.a,{id:"form-dialog-title",children:"Create a Form"}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(w.a,{children:"Now that you're logged in you can add as many posts as you want!"}),Object(a.jsx)(f.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",fullWidth:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)(f.a,{margin:"dense",id:"description",label:"Description",type:"text",multiline:!0,rows:4,variant:"filled",fullWidth:!0,value:l,onChange:function(e){return d(e.target.value)}})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(p.a,{onClick:h,color:"primary",children:"Cancel"}),Object(a.jsx)(p.a,{onClick:function(){return function(t,n,a){e.saveData(t,n,a),h()}(s,l,u)},color:"primary",children:"Subscribe"})]})]})})}var E=Object(h.a)((function(e){return{addButton:{marginLeft:"auto",marginRight:10,height:35}}}));function D(e){var t=E(),n=c.a.useState(!1),s=Object(j.a)(n,2),r=s[0],i=s[1],o=function(){i(!r)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"addButtonDiv",children:Object(a.jsx)(p.a,{size:"small",className:t.addButton,variant:"contained",onClick:function(){return o()},disabled:"Login"===e.user,children:"Add Post"})}),r?Object(a.jsx)(L,{username:e.user,openDialogue:o,open:r,saveData:e.saveData}):null]})}var T=Object(h.a)((function(){return{comment:{height:"auto",marginTop:20,backgroundColor:"white",paddingBlockEnd:20},logo:{height:50,width:50},header:{display:"flex"},img:{margin:10,backgroundColor:"wheat",borderRadius:2},userName:{fontSize:30,marginTop:20,marginLeft:20},body:{textAlign:"left",marginLeft:10,marginTop:10,height:"auto"},timeStamp:{fontSize:20,marginTop:30,marginLeft:150}}}));function B(e){var t=T(),n=e.data,s=n.username,c=n.description,r=n.timeStamp;return Object(a.jsxs)("div",{className:t.comment,children:[Object(a.jsxs)("div",{className:t.header,children:[Object(a.jsx)("span",{className:t.img,children:Object(a.jsx)("img",{src:"logo",alt:"logo",className:t.logo})}),Object(a.jsx)("span",{className:t.userName,children:s}),Object(a.jsx)("span",{className:t.timeStamp,children:"posted at ".concat(r)})]}),Object(a.jsx)("div",{className:t.body,children:c})]})}var P="https://klenty-backend.herokuapp.com/api/v1/",F=Object(h.a)((function(){return{singleItem:{marginLeft:50,marginRight:50},header:{display:"flex",justifyContent:"space-between"},body:{display:"flex",flexDirection:"row"},image:{height:300,width:300,border:"2px solid black"},description:{width:"60%",fontFamily:"monospace",marginLeft:20,fontSize:20},commentSection:{marginTop:20,paddingLeft:50,paddingRight:50,paddingBlockEnd:20},newComment:{height:200,marginTop:20,marginBlockEnd:20},subtitle:{display:"flex",paddingLeft:25},textBox:{padding:10}}}));function I(e){var t=F(),n=Object(o.g)(),s=e.location.state,r=s.title,i=s.description,l=s.id,d=(s.username,e.location.currentUser),u=c.a.useState(e.userdata),h=Object(j.a)(u,2),m=(h[0],h[1]),f=c.a.useState([]),x=Object(j.a)(f,2),O=x[0],v=x[1],w=c.a.useState(""),C=Object(j.a)(w,2),y=C[0],N=C[1],k=function(){fetch(P+"getComments/"+l,{method:"get"}).then((function(e){return e.json()})).then((function(e){v(e)}))};c.a.useEffect((function(){k()}),[]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U,{handleUser:function(e){m(e)},userdata:e.location.currentUser,logout:e.location.logout,getUser:e.location.getUser}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.singleItem,children:[Object(a.jsxs)("div",{className:t.header,children:[Object(a.jsx)(b.a,{variant:"h4",children:r}),Object(a.jsx)(p.a,{variant:"contained",onClick:function(){n.push("/")},children:"Back"})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.body,children:[Object(a.jsx)("div",{className:t.image,children:Object(a.jsx)("img",{src:"#",alt:"IMAGES",className:t.image})}),Object(a.jsxs)("div",{className:t.description,children:[Object(a.jsx)("div",{className:t.subtitle,children:Object(a.jsx)(b.a,{variant:"h5",children:"Description"})}),i]})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.commentSection,children:[0===O.length?Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"No Comments"})}):O.map((function(e){return Object(a.jsx)(B,{data:e},Object.values(e))})),Object(a.jsx)("div",{className:t.newComment,children:Object(a.jsx)("textarea",{name:"newComment",id:"",cols:"70",rows:"13",value:y,onChange:function(e){return N(e.target.value)},placeholder:"Enter a comment",className:t.textBox})}),Object(a.jsx)(p.a,{variant:"contained",onClick:function(){return function(e,t,n,a){console.log(a),g.a.post(P+"postComment/",{postId:t,name:e,commentData:n,userName:a}).then((function(){k(),N("")}))}(r,l,y,d)},disabled:"Login"===d,children:"Post Comment"})]})]})]})}var R="https://klenty-backend.herokuapp.com/api/v1/",z=Object(h.a)((function(e){return{home:{display:"flex",flexDirection:"column",justifyContent:"center",flexWrap:"wrap"}}}));function A(){Object(o.g)();var e=z(),t=c.a.useState([]),n=Object(j.a)(t,2),s=n[0],r=n[1],i=c.a.useState("Login"),l=Object(j.a)(i,2),h=l[0],m=l[1],b=function(e){m(e)},p=function(){fetch(R+"posts",{method:"get"}).then((function(e){return e.json()})).then((function(e){r(e)}))};c.a.useEffect((function(){p()}),[]);var f=function(e,t,n){g.a.post(R+"posts/",{title:e,description:t,username:n}).then((function(){p(),console.log("post sent")})).catch((function(e){return console.log(e)}))},x=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()({method:"GET",withCredentials:!0,url:R+"user"}).then((function(e){if("No User Exists"===e.data||""===e.data)return b("Login"),void console.log(e.data);b(e.data),console.log("hi",e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){x()}),[]);var O=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("Login"),e.next=3,g()({method:"GET",withCredentials:!0,url:R+"logout"}).then((function(e,t){console.log(t),m("Login")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U,{handleUser:b,userdata:h,logout:O,getUser:x}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"appBody",children:[Object(a.jsx)(D,{saveData:f,user:h}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:e.home,children:0===s.length?Object(a.jsx)("div",{className:"center",children:"No Posts Added!"}):s.map((function(e,t){return Object(a.jsx)(I,{data:e,index:t,saveData:f,getUser:x,logout:O,currentUser:h},"".concat(e.title).concat(t))}))})]})]})}var W="https://klenty-backend.herokuapp.com/api/v1/",G=Object(h.a)((function(){return{singleItem:{marginLeft:50,marginRight:50},header:{display:"flex",justifyContent:"space-between"},body:{display:"flex",flexDirection:"row"},image:{height:300,width:300,border:"2px solid black"},description:{width:"60%",fontFamily:"monospace",marginLeft:20,fontSize:20},commentSection:{marginTop:20,paddingLeft:50,paddingRight:50,paddingBlockEnd:20},newComment:{height:200,marginTop:20,marginBlockEnd:20},subtitle:{display:"flex",paddingLeft:25},textBox:{padding:10}}}));function J(e){var t=G(),n=Object(o.g)(),s=e.location.state,r=s.title,i=s.description,l=s.id;s.username;console.log("----"),console.log(e);var d=e.location.currentUser,u=c.a.useState(e.userdata),h=Object(j.a)(u,2),m=(h[0],h[1]),f=c.a.useState([]),x=Object(j.a)(f,2),O=x[0],v=x[1],w=c.a.useState(""),C=Object(j.a)(w,2),y=C[0],N=C[1],k=function(){fetch(W+"getComments/"+l,{method:"get"}).then((function(e){return e.json()})).then((function(e){v(e)}))};c.a.useEffect((function(){k()}),[]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U,{handleUser:function(e){m(e)},userdata:e.location.currentUser,logout:e.location.logout,getUser:e.location.getUser}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.singleItem,children:[Object(a.jsxs)("div",{className:t.header,children:[Object(a.jsx)(b.a,{variant:"h4",children:r}),Object(a.jsx)(p.a,{variant:"contained",onClick:function(){n.push("/")},children:"Back"})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.body,children:[Object(a.jsx)("div",{className:t.image,children:Object(a.jsx)("img",{src:"#",alt:"IMAGES",className:t.image})}),Object(a.jsxs)("div",{className:t.description,children:[Object(a.jsx)("div",{className:t.subtitle,children:Object(a.jsx)(b.a,{variant:"h5",children:"Description"})}),i]})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:t.commentSection,children:[0===O.length?Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"No Comments"})}):O.map((function(e){return Object(a.jsx)(B,{data:e},Object.values(e))})),Object(a.jsx)("div",{className:t.newComment,children:Object(a.jsx)("textarea",{name:"newComment",id:"",cols:"70",rows:"13",value:y,onChange:function(e){return N(e.target.value)},placeholder:"Enter a comment",className:t.textBox})}),Object(a.jsx)(p.a,{variant:"contained",onClick:function(){return function(e,t,n,a){console.log(a),g.a.post(W+"postComment/",{postId:t,name:e,commentData:n,userName:a}).then((function(){k(),N("")}))}(r,l,y,d)},disabled:"Login"===d,children:"Post Comment"})]})]})]})}var M=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"/post",component:J}),Object(a.jsx)(o.b,{path:"/",component:A}),Object(a.jsx)(o.a,{to:A})]})})},K=n(33);i.a.render(Object(a.jsx)(K.a,{children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(M,{})})}),document.getElementById("root"))},87:function(e,t,n){},88:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.8f7bddc3.chunk.js.map